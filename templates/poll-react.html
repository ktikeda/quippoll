{% extends 'base.html' %}

{% block title %}{{ poll.title }}{% endblock %}

{% block content %}

<div id="root" data-poll="{{ poll.poll_id }}" data-code="{{ poll.short_code }}"> <!-- component will go in this div --> </div>

<script type="text/javascript" src="//code.jquery.com/jquery-1.4.2.min.js"></script>
<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/socket.io/1.3.5/socket.io.min.js"></script>
<script type="text/javascript" src="/static/js/socketio.js"></script>

<!-- jsx -->
<script src="/static/dist/bundle.js" ></script>

<!-- jQuery -->
<script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
<script>
  "use strict";

  const content = document.getElementById('root');

  $("#brand").append(".com");
  $("#shortcode").html('/' + content.dataset.code);
  $("#add-poll").removeClass('show');

</script>

{% endblock %}